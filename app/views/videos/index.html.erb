<h1>動画一覧</h1>
<dl class="searchbox">
  <%= search_form_for @q do |f| %>
    <dt><%= f.search_field :title_or_content_or_user_name_cont ,placeholder: '検索するテキストを入力...' %></dt>
    <dd><%= f.submit ("検索") , class: 'search-btn'%></dd>
  <% end %>
</dl>

<br/>

<%= link_to '新しく動画を投稿する', new_video_path, class: "btn btn-primary btn-sm" %>

<table class = "table table-hover" >
  <tr>
    <th>投稿者</th>
    <th>タイトル</th>
    <th>内容</th>
    <th>ジャンル</th>
    <th>いいね数</th>
  </tr>

  <% @videos.each do |video| %>
    <tr>
      <td><%= video.user.name %></td>
      <td><%= video.title %></td>
      <td><%= video.content %></td>
      <% video.genres.each do |genre| %>
      <td class="badge badge-primary p-1"><%= genre.name %></>
      <% end %>
      <td><%= video.likes_count %></td>
      <td><%= link_to '詳細', video_path(video.id) ,class: "btn btn-outline-dark btn-sm" %></td>
      <td><%= link_to "編集", edit_video_path(video.id), method: :get, class: "btn btn-outline-dark btn-sm" %></td>
      <td><%= link_to '削除', video_path(video.id), method: :delete,data: { confirm: '本当に削除していいですか？'}, class: "btn btn-outline-danger btn-sm" %></td>
    </tr>
  <% end %>
</table>